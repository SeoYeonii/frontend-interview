# 배열

## JS Array의 기본 설명

보통의 배열은 연속된 메모리,
js의 배열은 숫자 인덱스를 키로 가지는 특수한 객체, 배열의 length는 실제 요소 개수가 아니라 가장 큰 인덱스 + 1

## `forEach`와 `map`의 차이는?

`map`은 새로운 배열을 리턴하며 불변성 유지가 필요한 함수형 프로그래밍에서 자주 사용되고, `forEach`는 배열을 리턴하지 않으며 부수효과(side-effect)만 필요할 때 적합

## `filter`는 원본 배열을 변경하나요?

x, `filter`는 원본 배열을 변경하지 않고, 조건을 만족하는 요소만을 새로운 배열로 반환 (`map`, `filter`, `reduce`는 모두 불변성을 지키는 함수형 메서드)

## `reduce`로 map/filter를 구현할 수 있나요?

`reduce`는 범용 트랜스포머로 쓰이기 때문에 가능
둘 다 acc에 하나씩 push한 결과값을 리턴하는 방식으로 구현 가능

## `Array(10).map(...)`이 안 되는 이유는?

`Array(10)`은 길이만 10이고 실제로 값이 없는 sparse array(희소 배열)이기 때문에, `map`과 같은 고차 함수가 동작하지 않음. (사실 동작은 함)

## `sort()`는 왜 기대와 다르게 작동할 수 있나요? (`[10, 2, 30].sort()` → `[10, 2, 30]`)

기본적으로 `Array.prototype.sort()`는 요소를 문자열 기준으로 정렬하기 때문에 return a - b로 실제로 명시해야 정렬할 수 있음

## `Array.prototype.sort()`에서 `a - b`를 하면 오름차순이 되는 이유

정렬 함수가 비교 함수(compare function)로 동작하기 때문

| 반환값       | 의미                   |
| ------------ | ---------------------- |
| `< 0` (음수) | a가 b보다 먼저 와야 함 |
| `0`          | 위치 변경 없음         |
| `> 0` (양수) | b가 a보다 먼저 와야 함 |

## 깊은 복사를 하려면 어떻게 하나요?

깊은 복사는 객체/배열 내의 중첩된 참조까지 완전히 분리하는 복사 방식

- 얕은 복사: spread(`...`), `slice()` 등은 1단계까지만 복사
- 깊은 복사 방법:
  - JSON 방법 (단순 객체/배열일 때)
  - structuredClone (최신 브라우저 지원)
  - lodash 같은 라이브러리 사용
